<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><base href=https://www.lowrisc.org><link rel=icon type=image/png sizes=32x32 href=/favicon.png><title>Tutorial for the v0.5 lowRISC preview release &middot; lowRISC: Collaborative open silicon engineering</title><link href=/main.b716e.css rel=stylesheet><script defer data-domain=lowrisc.org src=https://plausible.io/js/script.js></script></head><body><header><nav class="navbar navbar-expand-md navbar-light"><div class=container><a class=navbar-brand href=#><img src=/img/logo/logo-dualcolor.svg alt=lowRISC></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarCollapse><ul class="navbar-nav ml-auto"><li class=nav-item><a href=/our-work class=nav-link>Our work</a></li><li class=nav-item><a href=/open-silicon class=nav-link>Open Silicon</a></li><li class=nav-item><a href=/community class=nav-link>Community</a></li><li class=nav-item><a href=/news class=nav-link>News</a></li><li class=nav-item><a href=/jobs class=nav-link>Jobs</a></li><li class=nav-item><a href=/about class=nav-link>About us</a></li><li class=nav-item><a class="btn lr-navbar-btn-gh" href=https://github.com/lowrisc>GitHub</a></li></ul></div></div></nav></header><main role=main><div class=container><h1>Tutorial for the v0.5 lowRISC preview release</h1><p><em>By Jonathan Kimmitt, Wei Song and Alex Bradbury</em> (also see acknowledgements below)</p><p><strong>Release version 0.5</strong> (12-2017)</p><h2 id=introduction:0574c7d806b0708720ed941bbcbb16f5>Introduction</h2><p><a href=https://www.lowrisc.org/>lowRISC</a> is a not-for-profit organisation whose goal is to
produce a fully open source System-on-Chip (SoC) in volume. We are
building upon RISC-V processor core implementations from the RISC-V
team at UC Berkeley. We will produce a SoC design to populate a
low-cost community development board and to act as an ideal starting
point for derivative open-source and commercial designs.</p><p>This tutorial adds further functionality towards the final SoC design:</p><ul><li>A simple 100Mbps Ethernet capability.</li><li>Remote booting via Ethernet from a Linux server.</li><li>Preview of interrupt driven device drivers in Linux.</li><li>Optimised SD-interface</li><li>Console defaults to keyboard and optimised VGA-compatible text display.</li><li>Network filing system (NFS) support in the RISCV kernel and NFS-root support scripts.</li><li>Multiuser system leveraging the poky Linux build system.</li></ul><p>The build environment and pre-built images support the same platform as the previous releases, a competitively priced
<a href=http://store.digilentinc.com/nexys-4-ddr-artix-7-fpga-trainer-board-recommended-for-ece-curriculum/>Nexysâ„¢4 DDR Artix-7 FPGA Board</a>.</p><table><thead><tr><th>Function</th><th align=center><em>Tagged-v0.1</em></th><th align=center><em>Untethered-v0.2</em></th><th align=center><em>Debug-v0.3</em></th><th align=center><em>Minion-v0.4</em></th><th align=center><em>Ethernet-v0.5</em></th></tr></thead><tbody><tr><td>Rocket Priv. Spec.</td><td align=center>?</td><td align=center>?</td><td align=center>1.7</td><td align=center>nearly 1.91</td><td align=center>nearly 1.91</td></tr><tr><td>Tagged memory</td><td align=center>*</td><td align=center></td><td align=center></td><td align=center>*</td><td align=center>*</td></tr><tr><td>untethered operation</td><td align=center></td><td align=center>*</td><td align=center>*</td><td align=center>*</td><td align=center>optional</td></tr><tr><td>SD card</td><td align=center>tethered</td><td align=center>SPI</td><td align=center>SPI</td><td align=center>SD</td><td align=center>SD</td></tr><tr><td>UART console</td><td align=center>tethered</td><td align=center>standard</td><td align=center>standard/trace</td><td align=center>standard/trace/VGA</td><td align=center>standard/trace/VGA</td></tr><tr><td>PS/2 keyboard</td><td align=center></td><td align=center></td><td align=center></td><td align=center>*</td><td align=center>*</td></tr><tr><td>Minion Core</td><td align=center></td><td align=center></td><td align=center></td><td align=center>*</td><td align=center></td></tr><tr><td>Kernel md5 boot check</td><td align=center></td><td align=center></td><td align=center></td><td align=center>*</td><td align=center>*</td></tr><tr><td>PC-free operation</td><td align=center></td><td align=center></td><td align=center></td><td align=center>*</td><td align=center>*</td></tr><tr><td>Remote booting</td><td align=center></td><td align=center></td><td align=center></td><td align=center></td><td align=center>*</td></tr><tr><td>Multiuser operation</td><td align=center></td><td align=center></td><td align=center></td><td align=center></td><td align=center></td></tr></tbody></table><h3 id=contents:0574c7d806b0708720ed941bbcbb16f5>Contents</h3><ol><li><a href=https://www.lowrisc.org/docs/ethernet-v0.5/overview/>Overview of the Ethernet system</a><ul><li><a href=https://www.lowrisc.org/docs/ethernet-v0.5/ethernet/>Ethernet internals</a></li></ul></li><li><p><a href=https://www.lowrisc.org/docs/ethernet-v0.5/environment/>Prepare the environment</a></p><ul><li><a href=https://www.lowrisc.org/docs/ethernet-v0.5/installtools/>Install FPGA and simulation tools</a></li></ul></li><li><p>Demo</p><ul><li><a href=https://www.lowrisc.org/docs/ethernet-v0.5/fpga/>Running pre-built NFS-root image on the FPGA</a></li><li><a href=https://www.lowrisc.org/docs/ethernet-v0.5/fpga2/>Running pre-built SD-card image on the FPGA</a></li><li><a href=https://www.lowrisc.org/docs/ethernet-v0.5/development/>Developing/building from scratch on the FPGA</a></li></ul></li><li><p><a href=https://www.lowrisc.org/docs/ethernet-v0.5/release/>Release notes</a></p><ul><li><a href=https://www.lowrisc.org/docs/ethernet-v0.5/release/><strong>Version 0.5</strong>: ethernet multiuser lowRISC (12-2017)</a></li><li><a href=https://www.lowrisc.org/docs/minion-v0.4/release/><strong>Version 0.4</strong>: minion tag cache lowRISC (6-2017)</a></li><li><a href=https://www.lowrisc.org/docs/debug-v0.3/><strong>Version 0.3</strong>: trace debugger lowRISC (7-2016)</a></li><li><a href=https://www.lowrisc.org/docs/untether-v0.2/><strong>Version 0.2</strong>: untethered lowRISC (12-2015)</a></li><li><a href=https://www.lowrisc.org/docs/tagged-memory-v0.1/><strong>Version 0.1</strong>: tagged memory (04-2015)</a></li></ul></li></ol><h3 id=work-planned-in-progress-to-do:0574c7d806b0708720ed941bbcbb16f5>Work planned / In progress / TO DO</h3><ul><li>Interfacing Pulpino (Minion) core to on-chip trace/debug bus.</li><li>Programming Minion dynamically from Rocket under Linux.</li><li>Optimising card transfer speed / Implementing multi-block transfers.</li><li>GDB support under Linux.</li><li>Revised interrupt handling block.</li><li>Ethernet interfacing / booting / Linux support.</li><li>Fully supporting tag instructions in compiler.</li><li>Making tag support thread-safe / context switching safe.</li><li>More security demos.</li><li>Userland software running on the Rocket.</li><li>Offloading SD-card acceleration and Video scrolling to Minion.</li><li>Run-control debug for Rocket.</li></ul><h3 id=acknowledgements:0574c7d806b0708720ed941bbcbb16f5>Acknowledgements</h3><ul><li>Stefan Wallentowitz and Philipp Wagner provided the trace debug system</li><li>Furkan Turan provided the Zedboard patches</li><li>Philipp Jantscher did the initial tagged memory port to debug-v0.3</li><li>The Ethernet transceiver library is due to Alex Forencich (<a href=http://alexforencich.com/wiki/en/verilog/ethernet/readme>http://alexforencich.com/wiki/en/verilog/ethernet/readme</a>). The preview version was translated from VHDL written by Philipp Kerling (<a href=https://github.com/pkerling/ethernet_mac>https://github.com/pkerling/ethernet_mac</a>)</li></ul><h3 id=other-useful-sources-of-information:0574c7d806b0708720ed941bbcbb16f5>Other useful sources of information</h3><ul><li><a href=http://opensocdebug.org/slides/2015-11-12-overview/>Open SoC Debug (Overview slides)</a></li></ul></div></main><footer class=lr-footer><div class=container><div class=row><div class="col-lg-2 d-none d-lg-block"><img src=/img/logo/logo-dualcolor.svg width=150px></div><div class=col><p><small>The text content on this website is licensed under a <a href=https://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0 International License</a>, except where otherwise noted. No license is granted for logos or other trademarks. Other content &copy; lowRISC Contributors.</small></p><p><small><a href=/privacy-policy>Privacy and cookies policy</a>
&middot; <a href=/usage-licence>Usage licence</a></small></p></div><div class=col-lg-2><p><a href=#>Back to top</a></p></div></div></div></footer><script src=/main.b716e.js></script></body></html>